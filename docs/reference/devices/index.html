<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-reference/devices" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Devices | ESP32 Manager</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://esp32m.com/docs/reference/devices"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Devices | ESP32 Manager"><meta data-rh="true" name="description" content="ESP32 Manager supports limited number of peripheral devices out-of-the-box. If you want to connect device that is not currently supported, you have the following options:"><meta data-rh="true" property="og:description" content="ESP32 Manager supports limited number of peripheral devices out-of-the-box. If you want to connect device that is not currently supported, you have the following options:"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://esp32m.com/docs/reference/devices"><link data-rh="true" rel="alternate" href="https://esp32m.com/docs/reference/devices" hreflang="en"><link data-rh="true" rel="alternate" href="https://esp32m.com/docs/reference/devices" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="ESP32 Manager RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="ESP32 Manager Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4LC1CTFLW8"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-4LC1CTFLW8",{})</script><link rel="stylesheet" href="/assets/css/styles.cda39749.css">
<script src="/assets/js/runtime~main.4f79def0.js" defer="defer"></script>
<script src="/assets/js/main.96165e70.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="ESP32 Manager logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="ESP32 Manager logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">ESP32 Manager</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/esp32m/core" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/starting">Quick start</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/tutorial/create-project">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/reference/project-structure">Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/project-structure">Project structure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/api">API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/components">Components</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/reference/devices">Devices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/ui">User Interface</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/services">Services</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Reference</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Devices</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Devices</h1>
<p>ESP32 Manager supports limited number of peripheral devices out-of-the-box. If you want to connect device that is not currently supported, you have the following options:</p>
<ul>
<li>let us know about it by opening an issue on github;</li>
<li>port available source code yourself (should be not too difficult);</li>
<li>write driver from scratch using device datasheet.</li>
</ul>
<p>It may be possible to integrate Arduino-based device drivers by adding esp32m-arduino bridge to the ESP32 Manager. There&#x27;s conceptual understanding of how to make it possible, but we need to see if there&#x27;s any demand.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="relay">Relay<a href="#relay" class="hash-link" aria-label="Direct link to Relay" title="Direct link to Relay">​</a></h2>
<p>The following relay types are supported:</p>
<ul>
<li>controlled by a single digital pin (usually SPDT relays);</li>
<li>controlled by 2 digital pins (usually latching relays).</li>
</ul>
<p>The driver also supports relay state detection:</p>
<ul>
<li>using one extra digital pin that changes state when relay turns on/off;</li>
<li>using 2 extra digital pins, the first pin reports ON state, the second - OFF state;</li>
<li>no extra state pins - works for relays controlled by a single digital pin.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage">Usage<a href="#usage" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/io/gpio.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/dev/relay.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// single digital pin controlled relay, 0-off, 1-on</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dev</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">useRelay</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;my-relay&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_XX</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// latching relay controlled by 2 pins</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// note that it is impossible to reliably detect relay state in this case</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dev</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">useRelay</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;my-latching-relay&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_XX</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_XY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// latching relay controlled by 2 pins</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// pin ZZ reports relay state</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">useRelay</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;my-latching-relay&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_XX</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_XY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_ZZ</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_ZZ</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// latching relay controlled by 2 pins</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// pins ZX and ZY report relay state</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">useRelay</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;my-latching-relay&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_XX</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_XY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_ZX</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_ZY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>By default it is assumed that HIGH signal turns the relay ON, and LOW signal turns it OFF. State pins (if used) have different assumption - LOW means ON and HIGH means OFF.
If you want to change that, use <code>void Relay::setOnLevel(Pin pin, bool level)</code> method. For example, if a NO/NC relay turns on via LOW level:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">auto</span><span class="token plain"> relay</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token function" style="color:rgb(130, 170, 255)">useRelay</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;my-relay&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_XX</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">relay</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token function" style="color:rgb(130, 170, 255)">setOnLevel</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Relay</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token plain">Pin</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token plain">On</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>By default, the state of the relay is preserved across reboots, i.e. if the relay was initially OFF, you turned it ON via API or UI, and powered down or restarted the MCU, ESP32 Manager will turn the relay ON during the next boot. This behavior may be changed by <code>void Relay::setPersistent(bool p)</code> method.</p>
<p>In the UI:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> startUi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Relay </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@esp32m/ui&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">startUi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> plugins</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token function" style="color:rgb(130, 170, 255)">Relay</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;my-relay&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Relay Descriptive Name&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;my-latching-relay&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Relay Descriptive Name 2&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="relays" src="data:image/png;base64,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" width="569" height="211" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="api">API<a href="#api" class="hash-link" aria-label="Direct link to API" title="Direct link to API">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="turn-on--off">Turn on / off<a href="#turn-on--off" class="hash-link" aria-label="Direct link to Turn on / off" title="Direct link to Turn on / off">​</a></h4>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Request:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;request&quot;,&quot;target&quot;:&quot;my-relay&quot;,&quot;name&quot;:&quot;state-set&quot;,&quot;data&quot;:{&quot;state&quot;:&quot;on&quot;}}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-- or --</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;request&quot;,&quot;target&quot;:&quot;my-relay&quot;,&quot;name&quot;:&quot;state-set&quot;,&quot;data&quot;:{&quot;state&quot;:&quot;off&quot;}}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Response:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;response&quot;,&quot;source&quot;:&quot;my-relay&quot;,&quot;name&quot;:&quot;state-set&quot;,&quot;data&quot;:null}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get-state">Get state<a href="#get-state" class="hash-link" aria-label="Direct link to Get state" title="Direct link to Get state">​</a></h4>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Request:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;request&quot;,&quot;target&quot;:&quot;my-relay&quot;,&quot;name&quot;:&quot;state-get&quot;}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Response:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;response&quot;,&quot;source&quot;:&quot;my-relay&quot;,&quot;name&quot;:&quot;state-get&quot;,&quot;data&quot;:{&quot;state&quot;:&quot;on&quot;}}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-- or --</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;response&quot;,&quot;source&quot;:&quot;my-relay&quot;,&quot;name&quot;:&quot;state-get&quot;,&quot;data&quot;:{&quot;state&quot;:&quot;off&quot;}}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-- or --</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;response&quot;,&quot;source&quot;:&quot;my-relay&quot;,&quot;name&quot;:&quot;state-get&quot;,&quot;data&quot;:{&quot;state&quot;:&quot;unknown&quot;}}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="h-bridge">H-Bridge<a href="#h-bridge" class="hash-link" aria-label="Direct link to H-Bridge" title="Direct link to H-Bridge">​</a></h2>
<p>This works with L9110S, L298N and similar H-bridges to drive DC motors. Two MCU pins are used to control the H-Bridge:</p>
<table><thead><tr><th>Pin A</th><th>Pin B</th><th>Motor mode</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>Break</td></tr><tr><td>0</td><td>1</td><td>Forward</td></tr><tr><td>1</td><td>0</td><td>Reverse</td></tr><tr><td>1</td><td>1</td><td>Off</td></tr></tbody></table>
<p>Both &quot;Break&quot; and &quot;Off&quot; modes stop the motor, the difference is that some H-Bridges short output pins in &quot;Break&quot; mode to stop it faster.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-1">Usage<a href="#usage-1" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/io/gpio.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/dev/hbridge.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dev</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">useHBridge</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;m1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_19</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_18</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dev</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">useHBridge</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;m2&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_23</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_27</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the UI:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> startUi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Hbridge </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@esp32m/ui&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">startUi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> plugins</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token function" style="color:rgb(130, 170, 255)">Hbridge</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;m1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Motor 1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;m2&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Motor 2&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="hbridge" src="data:image/png;base64,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" width="572" height="212" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="api-1">API<a href="#api-1" class="hash-link" aria-label="Direct link to API" title="Direct link to API">​</a></h3>
<p>Mode is represented by <code>integer</code> with the following values:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">enum</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Mode</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Break</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Forward</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Reverse</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Off</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="start--stop">Start / stop<a href="#start--stop" class="hash-link" aria-label="Direct link to Start / stop" title="Direct link to Start / stop">​</a></h4>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Request:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;request&quot;,&quot;target&quot;:&quot;m1&quot;,&quot;name&quot;:&quot;state-set&quot;,&quot;data&quot;:{&quot;mode&quot;:X}}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">where X is [0..3] - see above</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Response:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;response&quot;,&quot;source&quot;:&quot;m1&quot;,&quot;name&quot;:&quot;state-set&quot;,&quot;data&quot;:null|error}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get-state-1">Get state<a href="#get-state-1" class="hash-link" aria-label="Direct link to Get state" title="Direct link to Get state">​</a></h4>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Request:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;request&quot;,&quot;target&quot;:&quot;m1&quot;,&quot;name&quot;:&quot;state-get&quot;}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Response:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;response&quot;,&quot;source&quot;:&quot;m1&quot;,&quot;name&quot;:&quot;state-get&quot;,&quot;data&quot;:{&quot;mode&quot;:X}}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">where X is [0..3] - see above</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="valve">Valve<a href="#valve" class="hash-link" aria-label="Direct link to Valve" title="Direct link to Valve">​</a></h2>
<p>The driver can manage DC motorized ball valves controlled by polarity change (2 control wires), or by connecting (+) power line to open/close channel (3 control wires).
The driver requires 2 additional digital pins to sense valve state (<strong>Pin O</strong> - open sensor, <strong>Pin C</strong> - close sensor):</p>
<table><thead><tr><th>Pin O</th><th>Pin C</th><th>Valve state</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>Invalid</td></tr><tr><td>0</td><td>1</td><td>Open</td></tr><tr><td>1</td><td>0</td><td>Closed</td></tr><tr><td>1</td><td>1</td><td>Opening or Closing</td></tr></tbody></table>
<p>The code was tested on the DC motorized ball valves available on <a href="//aliexpress.com" target="_blank" rel="noopener noreferrer">Aliexpress</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-control-pins--2-sense-pins">2 control pins + 2 sense pins<a href="#2-control-pins--2-sense-pins" class="hash-link" aria-label="Direct link to 2 control pins + 2 sense pins" title="Direct link to 2 control pins + 2 sense pins">​</a></h3>
<p>Tested on a valve like this one (CR05 wiring):</p>
<img src="../../static/img/cr05v.jpg" width="300" height="300">
<img src="../../static/img/cr05.png" width="400" height="300">
<p>This valve can be connected to ESP32)using an H-Bridge (preferred method) or via 2 SPDT relays:</p>
<p><img decoding="async" loading="lazy" src="/assets/images/motor_2spdt-9fa3ffee111e182de87d43a93449eaba.jpg" width="450" height="384" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-control-pins--2-sense-pins">3 control pins + 2 sense pins<a href="#3-control-pins--2-sense-pins" class="hash-link" aria-label="Direct link to 3 control pins + 2 sense pins" title="Direct link to 3 control pins + 2 sense pins">​</a></h3>
<p>Tested on a valve like this one (CR702 wiring):</p>
<img src="../../static/img/cr702v.webp" width="300" height="300">
<img src="../../static/img/cr702.webp" width="400" height="300">
<p>The GY and WT lines are connected to the GND, BL - to Pin O, YW - to Pin C. Two relays (or transistor switches) are used to control the valve:</p>
<p><img decoding="async" loading="lazy" src="/assets/images/2relay-valve-0fb02c913b43842559be727aee5ffd86.png" width="621" height="419" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-2">Usage<a href="#usage-2" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/io/gpio.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/dev/hbridge.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/dev/valve.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/dev/relay.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Valve is controlled by H-Bridge</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">auto</span><span class="token plain"> mainBridge </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> dev</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">useHBridge</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;main-bridge&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_23</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_27</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dev</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">useValve</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;main&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> mainBridge</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_19</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_18</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Valve is controlled by relays</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">auto</span><span class="token plain"> rPow </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> dev</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">useRelay</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;rpow&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_32</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_33</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_39</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_39</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">auto</span><span class="token plain"> rDir </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> dev</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">useRelay</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;rdir&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_25</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_26</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_36</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_36</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dev</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">useValve</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;garden&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> rPow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> rDir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_23</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_27</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the UI:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> startUi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Valve </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@esp32m/ui&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">startUi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">plugins</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token function" style="color:rgb(130, 170, 255)">Valve</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;main&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Water main&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="valve" src="data:image/png;base64,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" width="572" height="168" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="api-2">API<a href="#api-2" class="hash-link" aria-label="Direct link to API" title="Direct link to API">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="open--close">Open / close<a href="#open--close" class="hash-link" aria-label="Direct link to Open / close" title="Direct link to Open / close">​</a></h4>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Request:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;request&quot;,&quot;target&quot;:&quot;main&quot;,&quot;name&quot;:&quot;state-set&quot;,&quot;data&quot;:{&quot;state&quot;:X}}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">where X is &quot;open&quot; or &quot;close&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Response:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;response&quot;,&quot;source&quot;:&quot;main&quot;,&quot;name&quot;:&quot;state-set&quot;,&quot;data&quot;:null|error}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get-state-2">Get state<a href="#get-state-2" class="hash-link" aria-label="Direct link to Get state" title="Direct link to Get state">​</a></h4>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Request:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;request&quot;,&quot;target&quot;:&quot;main&quot;,&quot;name&quot;:&quot;state-get&quot;}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Response:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;response&quot;,&quot;source&quot;:&quot;main&quot;,&quot;name&quot;:&quot;state-get&quot;,&quot;data&quot;:{&quot;mode&quot;:X}}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">where X is &quot;unknown&quot;, &quot;open&quot;, &quot;close&quot;, &quot;invalid&quot;, &quot;opening&quot;, &quot;closing&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="dallas-temperature-sensor">Dallas temperature sensor<a href="#dallas-temperature-sensor" class="hash-link" aria-label="Direct link to Dallas temperature sensor" title="Direct link to Dallas temperature sensor">​</a></h2>
<p><code>esp32m</code> provides native driver for DS18B20 and similar 1-WIRE temperature sensors. The driver only needs to know the pin connected to DQ (Data) pin of the sensor, it will automatically detect connection mode (normal power or parasite power), number of connected sensors, their addresses and specific model.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/dev/dsts.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dev</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">useDsts</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_13</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the UI:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> startUi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Dsts </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@esp32m/ui&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">startUi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">plugins</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token function" style="color:rgb(130, 170, 255)">Dsts</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="571" height="172" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="api-3">API<a href="#api-3" class="hash-link" aria-label="Direct link to API" title="Direct link to API">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get-state-3">Get state<a href="#get-state-3" class="hash-link" aria-label="Direct link to Get state" title="Direct link to Get state">​</a></h4>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Request:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;request&quot;,&quot;target&quot;:&quot;dsts&quot;,&quot;name&quot;:&quot;state-get&quot;}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Response:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;response&quot;,&quot;source&quot;:&quot;dsts&quot;,&quot;name&quot;:&quot;state-get&quot;,&quot;data&quot;:[sensor1,sensor2,...,sensorN]}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><em>sensorX</em> is an array of the following elements describing a sensor and its state:</p>
<ul>
<li>sensor code (string);</li>
<li>sensor resoluton, bits (number);</li>
<li>disabled flag - is automatically set to &quot;true&quot; by the driver if the sensor was detected, but stopped responding for any reason;</li>
<li>temperature (number) - in °C</li>
<li>success rate (number) - number of valid responses divided by number of queries - may be used to debug connection issues, interference, etc.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="buzzer">Buzzer<a href="#buzzer" class="hash-link" aria-label="Direct link to Buzzer" title="Direct link to Buzzer">​</a></h2>
<p><code>esp32m</code> is able to output sound through passive piezo or magnetic buzzers by sending a signal or series of signals with the specified frequency and duration.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-3">Usage<a href="#usage-3" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/dev/buzzer.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Buzzer is connected to IO15</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dev</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">useBuzzer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_15</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the UI:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> startUi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Buzzer </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@esp32m/ui&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">startUi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">plugins</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token function" style="color:rgb(130, 170, 255)">Buzzer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="/assets/images/buzzer-782d443cb388644c30e92df6135f3d07.png" width="575" height="288" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="api-4">API<a href="#api-4" class="hash-link" aria-label="Direct link to API" title="Direct link to API">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="play-melody">Play melody<a href="#play-melody" class="hash-link" aria-label="Direct link to Play melody" title="Direct link to Play melody">​</a></h4>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Request:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;request&quot;,&quot;target&quot;:&quot;buzzer&quot;,&quot;name&quot;:&quot;play&quot;,&quot;data&quot;:[f1,d1,f2,d2,...,fN,dM]}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Response:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;response&quot;,&quot;source&quot;:&quot;buzzer&quot;,&quot;name&quot;:&quot;play&quot;,&quot;data&quot;:null|error}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>fX</strong> is frequency in Hz, <strong>dX</strong> is duration in ms</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="bme280-temperaturehumiditypressure-i2c-sensor">BME280 temperature/humidity/pressure I2C sensor<a href="#bme280-temperaturehumiditypressure-i2c-sensor" class="hash-link" aria-label="Direct link to BME280 temperature/humidity/pressure I2C sensor" title="Direct link to BME280 temperature/humidity/pressure I2C sensor">​</a></h2>
<p><code>esp32m</code> provides native support for BME/BMP280 sensor connected via I2C bus.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-4">Usage<a href="#usage-4" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/dev/bme280.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// use default I2C address 0x76, or pass it in the first argument if different</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dev</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">useBme280</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the UI:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> startUi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Bme280 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@esp32m/ui&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">startUi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">plugins</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token function" style="color:rgb(130, 170, 255)">Bme280</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="/assets/images/bme280-be67a96dcc9745efd57458cf9cf370a8.png" width="567" height="326" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="api-5">API<a href="#api-5" class="hash-link" aria-label="Direct link to API" title="Direct link to API">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get-state-4">Get state<a href="#get-state-4" class="hash-link" aria-label="Direct link to Get state" title="Direct link to Get state">​</a></h4>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Request:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;request&quot;,&quot;target&quot;:&quot;BME280&quot;,&quot;name&quot;:&quot;state-get&quot;}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Response:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;response&quot;,&quot;source&quot;:&quot;BME280&quot;,&quot;name&quot;:&quot;state-get&quot;,&quot;data&quot;:{temperature:T,pressure:P,humidity:H}}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="fc-37-rain-sensor">FC-37 rain sensor<a href="#fc-37-rain-sensor" class="hash-link" aria-label="Direct link to FC-37 rain sensor" title="Direct link to FC-37 rain sensor">​</a></h2>
<p>FC-37 is a simple resistive rain sensor with digital and analog output. <code>esp32m</code> can read analog signal and express it in % corresponding to the rainfall.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-5">Usage<a href="#usage-5" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/io/gpio.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/dev/fc37.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dev</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">useFc37</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_33</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the UI:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> startUi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Fc37 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@esp32m/ui&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">startUi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">plugins</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token function" style="color:rgb(130, 170, 255)">Fc37</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="580" height="176" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="api-6">API<a href="#api-6" class="hash-link" aria-label="Direct link to API" title="Direct link to API">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get-state-5">Get state<a href="#get-state-5" class="hash-link" aria-label="Direct link to Get state" title="Direct link to Get state">​</a></h4>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Request:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;request&quot;,&quot;target&quot;:&quot;FC-37&quot;,&quot;name&quot;:&quot;state-get&quot;}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Response:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;response&quot;,&quot;source&quot;:&quot;FC-37&quot;,&quot;name&quot;:&quot;state-get&quot;,&quot;data&quot;:[t,v]}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>t</strong> is the time elapsed since the last successful reading (ms);</li>
<li><strong>v</strong> is the coefficient between 0 and 1, where 0 stands for no rain, and 1 stands for maximum possible rainfall.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="flow-meter">Flow meter<a href="#flow-meter" class="hash-link" aria-label="Direct link to Flow meter" title="Direct link to Flow meter">​</a></h2>
<p><code>esp32m</code> supports Hall sensor based flow meters for water and other liquids. These meters emit certain number of pulses per passed through amount of liquid. They are available on <a href="//aliexpress.com" target="_blank" rel="noopener noreferrer">Aliexpress</a> and look like this:</p>
<p><img decoding="async" loading="lazy" src="/assets/images/yf-b10-f74db3fefb96d26a351f6ad8cf70297f.webp" width="800" height="800" class="img_ev3q"></p>
<p>There are different models, for various pipe sizes, and they have different relationship between the flow and the number of pulses, usually a linear equation :</p>
<blockquote>
<p><strong>F = A * Q - B</strong></p>
</blockquote>
<p>where</p>
<ul>
<li><strong>F</strong> - number of pulses per second (Hz)</li>
<li><strong>Q</strong> - flow rate (l/min)</li>
<li><strong>A</strong> and <strong>B</strong> are model-dependent coefficients</li>
</ul>
<p>Inferring <strong>Q</strong> is simple:</p>
<blockquote>
<p><strong>Q = ( F + B ) / A</strong></p>
</blockquote>
<p>Usually these devices require 5..15V supply voltage and the maximum output voltage will be higher than what the ESP32 chip can handle on its inputs. Therefore, voltage divider is required to ensure the voltage on the ESP32 pin does not exceed 3.3V. With the 5V supply we use 10KOhm/20KOhm divider.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-6">Usage<a href="#usage-6" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a></h3>
<p>First, find out the <strong>A</strong> and <strong>B</strong> for your model of the flow meter. If your flow meter has a different type of equation - not a problem, as long as you can express <strong>Q</strong> in terms of <strong>F</strong>.</p>
<p>Then, we need to subclass the default implementation of <code>dev::FlowSensor</code> and override <code>virtual float compute(int pc, int ms)</code> to provide the correct formula for <strong>Q</strong>. In the below example we will assume <strong>A = 4</strong> and
<strong>B = 3</strong>:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/dev/flow.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MyFlowSensor</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token base-clause keyword" style="font-style:italic">public</span><span class="token base-clause"> dev</span><span class="token base-clause double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token base-clause class-name" style="color:rgb(255, 203, 107)">FlowSensor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">MyFlowSensor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> io</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token plain">IPin </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> dev</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">FlowSensor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">float</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">compute</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> pc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> ms</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">pc </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// compute number of pulses per second</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">float</span><span class="token plain"> hz </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">float</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">pc </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1000</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> ms</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// compute flow rate in l/min</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">hz </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">MyFlowSensorMain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flow&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the UI:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> startUi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> FlowSensor </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@esp32m/ui&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">startUi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">plugins</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token function" style="color:rgb(130, 170, 255)">FlowSensor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flow&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Main flow&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="571" height="227" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="api-7">API<a href="#api-7" class="hash-link" aria-label="Direct link to API" title="Direct link to API">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get-state-6">Get state<a href="#get-state-6" class="hash-link" aria-label="Direct link to Get state" title="Direct link to Get state">​</a></h4>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Request:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;request&quot;,&quot;target&quot;:&quot;flow&quot;,&quot;name&quot;:&quot;state-get&quot;}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Response:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;response&quot;,&quot;source&quot;:&quot;flow&quot;,&quot;name&quot;:&quot;state-get&quot;,&quot;data&quot;:[t,f,c]}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>t</strong> is the time elapsed since the last successful reading (ms);</li>
<li><strong>f</strong> is the current flow rate in l/min;</li>
<li><strong>c</strong> is the total volume of liquid passed through the meter, in liters.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pressure-sensor">Pressure sensor<a href="#pressure-sensor" class="hash-link" aria-label="Direct link to Pressure sensor" title="Direct link to Pressure sensor">​</a></h2>
<p><code>esp32m</code> supports pressure sensors for gas and liquids that express pressure in terms of voltage. These meters are available on <a href="//aliexpress.com" target="_blank" rel="noopener noreferrer">Aliexpress</a> and look like this:</p>
<p><img decoding="async" loading="lazy" src="/assets/images/pressure-sensor-51a3ee392e799ea4a6cfde846b1c0437.webp" width="1000" height="1000" class="img_ev3q"></p>
<p>There are different models, and they have different relationship between the pressure and the voltage, usually expressed as a linear equation :</p>
<blockquote>
<p><strong>Vout = Vcc _ ( A _ P + B )</strong></p>
</blockquote>
<p>where</p>
<ul>
<li><strong>Vout</strong> - output voltage;</li>
<li><strong>Vcc</strong> - supplied voltage, usually 5V;</li>
<li><strong>P</strong> - pressure in MPa;</li>
<li><strong>A</strong> and <strong>B</strong> are model-dependent coefficients.</li>
</ul>
<p>Inferring <strong>P</strong> is simple:</p>
<blockquote>
<p><strong>P = ( Vout / Vcc - B ) / A</strong></p>
</blockquote>
<p>Usually these devices require 5V supply voltage and the maximum output voltage is 4.5v, which is too high for the ESP32 chip to handle. According to <a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/api-reference/peripherals/adc.html#_CPPv425adc1_config_channel_atten14adc1_channel_t11adc_atten_t" target="_blank" rel="noopener noreferrer">this table</a>, ESP32 can accurately report voltages of up to 2450mV. Therefore, we suggest using 10KOhm/10KOhm voltage divider, which effectively reduces the maximum voltage level by the factor of 2, limiting it to 2.25V.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-7">Usage<a href="#usage-7" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a></h3>
<p>First, find out the <strong>A</strong> and <strong>B</strong> for your model of the pressure sensor. If your sensor has a different type of equation - not a problem, as long as you can express <strong>P</strong> in terms of <strong>V</strong>.</p>
<p>Then, we need to subclass the default implementation of <code>dev::PressureSensor</code> and override <code>virtual float compute(uint32_t mv, float r)</code> to provide the correct formula for <strong>P</strong>. In the below example we will assume <strong>A = 2/3</strong> and <strong>B = 0.1</strong>:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/dev/pressure.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MyPressureSensor</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token base-clause keyword" style="font-style:italic">public</span><span class="token base-clause"> dev</span><span class="token base-clause double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token base-clause class-name" style="color:rgb(255, 203, 107)">PressureSensor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">MyPressureSensor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> io</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token plain">IPin </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> dev</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">MyPressureSensor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">float</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">compute</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">uint32_t</span><span class="token plain"> mv</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">float</span><span class="token plain"> r</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// assume Vcc is 5V. If you are able to measure it at runtime - provide the value here.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">float</span><span class="token plain"> vcc </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// compute Vout from the pin voltage that was 2x reduced by the voltage divider</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">float</span><span class="token plain"> vout </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> mv </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// compute pressure in MPa</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">float</span><span class="token plain"> pmpa </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">vout </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> vcc </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// convert to Atm</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> pmpa </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> pmpa </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.101325</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">MyPressureSensor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;pressure&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gpio</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_36</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the UI:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> startUi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> PressureSensor </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@esp32m/ui&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">startUi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">plugins</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token function" style="color:rgb(130, 170, 255)">PressureSensor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;pressure&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Pressure sensor&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkEAAAC7CAYAAABikkr7AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAA+7SURBVHhe7d2Lceo4GAbQrSUtuAW34BZogRZogRbcAi24BbdAC1rJLwyYZ0guQefM/LM3+G0zqy+y7PwXAAAyJAQBAFkSggCALAlBAECWhCAAIEtCEACQJSEIAMiSEAQAZEkIAgCyJAQBAFkSggCALAlBAECWhCAAIEtCEACQJSEIAMiSEAQAZEkIAgCyJAQBAFkSggCALAlBAECWhCAAIEtCEACQpZshaL/fD/8CAPg7bmUYIQgA+EhCEACQJSEIAMiSEAQAZEkIAgCyJAQBAFkSggCALAlBAECWhCAAIEtCEACQJSEIAMjSnw9Baftt23bVNM1RjZ8LagDAqT8ZgsbAs9vtHqoxGAEA/KkQlALMUrh5poQhAMjbnwhBrww/pyUMAUCe3j4E/WQAGksQAoD8vHUIembcz7OVtgUA5ONtQ9BvBqCxBCEAyMdbhqDfuAV2qdwaA4A8vF0ISutbCie/WT8R7ACA9/J2IWgplPyLAgA+21uFoH95G+y03BYDgM/2ViFoKYz8y3qtXVh9fYWvS1WUoVqtw3YnfAHAb3ibEPRcL1ATrm19v29D+42nzF7bGzQLQUURipOaB6JiVQdRCAB+1tuEoOceiT+EoLQfxzVMiHM8G4Re+8j8GIKKsFlc7T409TqUQxAql2cCAF7kVob5tRC0FEJu1xiCUtA5n960U0QKzcm0e+t1boWg3r6uhh6hVVwCAPgpbxGC0jqWAsjtuh6C0vQxB+0Xp9+uV4W8e0NQCHWouvnKw3z78bMYjNombFdVKBaDUht223WoyuH2WjfOaBPq5tIxxHA4nz9WUVZhvb1ym7HdhU3cfln080/bOLt/14RNN08R1kvHOx1TFerZxpp1vy+pJyz1jI37Vm5ONrBvQr1O+9FPL9J+rLfh4qFecvfxzNy97TZsyrTe/lrumzqsq3K4dkUoqlXY7C7scNrGZjW7NkUou/mv7Vi8/g8sc/e5BvhQbxGCnn8q7FYI2k0N0z6Gh6Xpt+p144LuDUHjfEshKI0fSv+N1Y0lWh9C0H4X1l2D289XluWhYY8/r84a2zZsq3F6H37KWRj6qjYxxhzb7w6361JYKKcGPdXpNr4XgtLxjfuSxkxV28N12Deb4/2IxzrtR1GF2axXPXY8vce2PYaguP9TcD0dA5a2M8w+auuwml27Ml2b6ecYUuIJPduzo2XS9Zxf//jzwjize841wCd7ixD0/J/IeCQELU+/Va8bF3RnCNqthsYyhoPho0NgiFWuF3opDoGmPGns2nq2vtml2m+H225xfUdt/awxPe4RaMJ6+Py4kdyHZrN0C++bISguVy31SM0C4SpOP9iH3brsl622Zw3+uUePJ3p422MI6pc5Pp421KvhWOMyh8/julb9MqfB5RDaTs9pPNfDdoq4rnmP1L7Zhmq6nscX4ua5BvhwHx6CDv9jvxSSbtVvhqB2t5karGLePTA1vrPeobkYnLrGrNwsNv5jozpv7MfPyoXf+tO4pBSciqo+NIztdmiAl8YqjY3wfP++GYLi8S99s8bpxeJKx2Bzq7ctevh4ntn2IQQtDnRvx16l4/A4rmdpM7suOB331kzjyIp1XHpBs14MwrfONcCne4sQtBQ+7qvLIahp2mk8UNi3Tw+Mfn0ISo1VfxtlqqIYGqmhTm9FzQPD8NHcUsg5MjaSMdSMms3QAN7VaxLNekHWl8axHPleCCoWU8ztkNOs0/R0Lm7s4xPH8/i2DyFotbjM0jlow/ZacFowBdqLY3kO65x9BW6ca4DP9yE9QVd07wpaWva++pEQtFQxCHWDWOuFY7oagg4N3FcMVFVVndc4fR549nF/ukY9VT8YeFvH471yQg+3iWLDWa7CerMNuxg2lxf5gRA0LZO2v3CcscZxMPc07A8dz1PbvhWCdovnIJ6E2bijKqzW21DH7/pyxBl7reI2zru0JmNAmwcrIQjI3ceEoLQfR9X2L0p8tgdorN+8HXbR1RA0ho07qjzt9RmeQDpZvqjWYXshDaUxJukJp/n8XYja7M7W/fIQ1G6nIHKrlm9Znbv7eJ7a9pMhKBmeWjvqIYznslzFoHY07/XbZ6Ox529+XoQgIHe3MsyfHxj93Xr/EHSrob1P9/RcvYmBoG8Y034uPR11kM55HbYxRE29Fke31n6iJ2gMIkvn4btuHM9T2/5GCJpJ3+26e5XBsF9FnH/asVlP0JXr30y3zA4zCUFA7t4iBP3kI/Lfrd9/RH7B1RC0D/X4ZNgj73dJvWUXLl2zGXpGjnqO+h62RbNba4dbMmPj/MIQNDuH13o97vPo8Tyz7edCUNqv5T07PAU4Pz/T9b80Jmy2H8YEARy8RQhK61gKILfr50PQK46v91MhKE2+8XRQPD9poPhkWl+5/E6d8Wmi2fqmgdSLA08OQayaWvP91GAfPpuZ3rfzSAiKZ3Ho0UiDvJevTBvmh3rJ48fzzLafCEHjk34XrmW7HQLqbL+/+3SYEATk6i1CULIUQG7Xz4eg1/m5EBSbs+lFiUV6suzokqT30fQN5zygjI189yTa2fxjQJg19lNoKcPq5EVFhxcInjxSPvUoHb+LKL05eTXs78MN8/RY+Vco16fjdnZh3R3XhXA398TxPL7tZ3qCDr1QaRtHl2b2Qszjp98Ot8RO3xMUmu3svU/HOyEEAbl7mxD03Lignw1BrxsPlPxkCIrO3hhchaqcvc347LH7uD9TEFmY/2jcSa8ZX7DYTS9DOXsiKlV6k/GRoyfQ0jbi+sefp9cCPBiCoqM3Pcfz2b1Refa267PwcMHDxxM9tu0nb4fNnw5L20hPnx29zTsGnWHeydJbpmfLXHtjtBAE5OptQtDz44J+rl43Hij54RDUOf3bUX24ufy3wJbnX23qi4/Kd3//av63trpGeh22l/6m1clTTuP62xSQus8eD0GduN5t9/e77tyPCx4+nuTubT8Xgjrpb8SdbePG33U7u55pmdt/O0wIAnL1NiEoWQoi/7IAgM/1ViHonXqDXtsLBAC8m7cKQcnz7wx6Xb12LBAA8I7eLgSl9S0Fk9+sVx8TAPB+3i4EJf/ytpjbYACQh7cMQcm/uC0mAAFAPt42BCW/GYSMAwKAvLx1CEp+49aYHiAAyM/bh6AkbWMpvLyifmP/AYD38ydC0OiVvUJ6fwAgb38qBI2+E4aEHwAg+ZMhaC6FmjSoeawx7Mw/E3wAgFN/PgQBADxDCAIAsiQEAQBZEoIAgCwJQQBAloQgACBLQhAAkCUhCADIkhAEAGRJCAIAsiQEAQBZEoIAgCwJQQBAloQgACBLQhAAkCUhCADIkhAEAGRJCAIAsiQEAQBZEoIAgCy9JAQppZRSSv3FukZPEADwkYQgACBLQhAAkCUhCADIkhAEAGRJCAIAsiQEAQBZEoIAgCwJQQBAloQgACBLQhAAkCUhCADIkhAEAGRJCAIAsiQEAQBZEoIAgCwJQQBAloQgACBLQhAAkCUhCADIkhAEAGRJCAIAsiQEAQBZEoIAgCwJQQBAloQgACBLQhAAkCUhCADIkhAEAGRJCAIAsiQEAQBZEoIAgCwJQQBAloQgACBLQhAAkCUhCADI0oeEoDZsy6/w9TWrogzVuo5TAOBv2zd12KyqUG1vt2r73SZUZdG1hUW5CttmmDDzyPo+2UeFoHLThLZt+4oXeB0/K6o66KsC4E9q67DqfskvQhFDzc3Q0m5DFedd1bE93Ldht6nCV7EKu2Hyw+u7qm97q/rvtrIfFYKq7cm+NJtQfpUh86ALwF+VemxSoIm/zm+r26Gl3Zbhq9rOfvlvwrr4CqsxBT24vuuEoPcOQTH7rmLSXXddgbs+Ha9XoYxfiHIzXPj9LmyqskvEX2UV1rv5F6IJ29UwLYaparM76lVqd+tQdYk69TjNuxzruK0yjJtI2k36Yo69Us/sCwD5ui+07FaxPeobvcE+1HG58my5O0NQO2uX0jCTTdO3Y23qZOjbv66G4NV0bd0m1OtqWKZvy/bN7BZdnN6cNtf/yGeHoH3qFoxhZApB6UJtwq6JF6SbNSbkeFFSuGnjB00MNannaMwku1URL9Y2NO2+u722SoFl/MK0227e7uKedTneE4Ie2xcAcnZ/CEpDQ+aWPrtvfU3YxLa1XPft0r6JbWrXqzS2tf30edvbhaDUNqbepnZoG1PwKdehju1d2+z6oSpHQe3f+eAQ1IY6hpivMibO7ue+92X+PdjX8eKU2zjnQf9lSZ/0X5CplyZKA8nqMb4263hhZ/dZ41p2dfyidP++ryfo/n0BIG/3haCu12chBBVPhaA4Vwwy85a1W9cUYM5vh/U9QfOxuP0dmel2XLTfxvauOm7v/pWPCkFTt9xQXfKcznIKHmOvUK/Z9F1zZ7XqZ9p3vTHxC1Wtwma7O+m+i9us4vJFGVbrbZdwD+4JQY/tCwA5+xc9QVFb97fDikO7dE8IOkghqBiGpfSWfun/Vz4qBKWLnLrf0j6d79ZC8FjH4JHSaDf/rIbpvTY0u23YdGOD0u2v46n7ZhfqTT82KN066y/qEyHorn0BIE/3hZbmqKcm+c6YoDSouojzDOOAont7gg6EoF8wXIizgdFz58GjuxDFerhddqqN4WZ71PvT9dYMQSbdG93MBy7vU/AZb3H1F32+rVsh6Pq+AJC3+0JQO9xqOjRdJ0+HTe5YX7OJv/zPh330t9uEoJm/HIK6i5MGO6/qbvBz6tVJ3X79l6VfZzFOa5s4bXbxd6v45ai6IJTOQVP3P/e7MF829SRtusFk10LQ9X0BIG8XQku7C9tZT834C3l6T1B6aKfpHtpZ+gX7jhDUrSvOs9nFdqnpBjl3T3xNiaZfR9ENnO4/EYL+iWdDUNTWYR3DRnevM43vOfoyxSAyPSJfhGq1PfoiNfW6DzfpHmmZAtFs+2kUfdynblq17tZzPQRF1/YFgIwth5YUKIqTkHPPG6Mvre9UGhvbt3NF/CV9G+oYhNLTYmPbNI6dHQc6C0EAAH+AEAQAZEkIAgCyJAQBAFkSggCALAlBAECWhCAAIEtCEACQJSEIAMiSEAQAZEkIAgCyJAQBAFkSggCALAlBAECWhCAAIEtCEACQJSEIAMiSEAQAZEkIAgCyJAQBAFkSggCALL1FCErrUEoppZR6pL7r1jr0BAEAH0kIAgCyJAQBAFkSggCALAlBAECWhCAAIEtCEACQJSEIAMiSEAQAZEkIAgCyJAQBAFkSggCALAlBAECWhCAAIEvfDkFJ27bDvwAA3t892eWuEJSSVNM0eoUAgLf2SGa5KwQlKVHtdrtQ17VSSiml1FtWyir33sG6OwQlKVUppZRSSr1z3euhEAQA8CmEIAAgS0IQAJAlIQgAyJIQBABkKIT/Abg5xTxGVQRzAAAAAElFTkSuQmCC" width="577" height="187" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="api-8">API<a href="#api-8" class="hash-link" aria-label="Direct link to API" title="Direct link to API">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get-state-7">Get state<a href="#get-state-7" class="hash-link" aria-label="Direct link to Get state" title="Direct link to Get state">​</a></h4>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Request:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;request&quot;,&quot;target&quot;:&quot;pressure&quot;,&quot;name&quot;:&quot;state-get&quot;}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Response:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;response&quot;,&quot;source&quot;:&quot;pressure&quot;,&quot;name&quot;:&quot;state-get&quot;,&quot;data&quot;:[t,p]}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>t</strong> is the time elapsed since the last successful reading (ms);</li>
<li><strong>p</strong> is the pressure in Atm;</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ina-series-voltagecurrent-sensor">INA series voltage/current sensor<a href="#ina-series-voltagecurrent-sensor" class="hash-link" aria-label="Direct link to INA series voltage/current sensor" title="Direct link to INA series voltage/current sensor">​</a></h2>
<p>We currently support INA3221 and INA219 sensors. INA266 support is planned, and we will probably combine multiple INAXXX drivers into one, because the protocol is very similar.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-8">Usage<a href="#usage-8" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/dev/ina3221.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dev</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">useIna3221</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the UI:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> startUi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Ina3221 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@esp32m/ui&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">startUi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">plugins</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token function" style="color:rgb(130, 170, 255)">Ina3221</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="573" height="281" class="img_ev3q"></p>
<p>Using INA219 is similar, just replace 3221 with 219 in the example above.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="api-9">API<a href="#api-9" class="hash-link" aria-label="Direct link to API" title="Direct link to API">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get-state-8">Get state<a href="#get-state-8" class="hash-link" aria-label="Direct link to Get state" title="Direct link to Get state">​</a></h4>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Request:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;type&quot;:&quot;request&quot;,&quot;target&quot;:&quot;INA3221&quot;,&quot;name&quot;:&quot;state-get&quot;}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Response:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> &quot;type&quot;:&quot;response&quot;,&quot;source&quot;:&quot;INA3221&quot;,&quot;name&quot;:&quot;state-get&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> &quot;data&quot;:[addr, channels:[[v1,sv1,c1],[v2,sv2,c2],[v3,sv3,c3]]]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>vX</strong> is the channel X bus voltage;</li>
<li><strong>svX</strong> is the channel X shunt voltage;</li>
<li><strong>cX</strong> is the channel X current.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="dds238-electricity-meter">DDS238 electricity meter<a href="#dds238-electricity-meter" class="hash-link" aria-label="Direct link to DDS238 electricity meter" title="Direct link to DDS238 electricity meter">​</a></h2>
<p><code>esp32m</code> natively supports this energy meter over MODBUS/RTU protocol:</p>
<p><img decoding="async" loading="lazy" src="/assets/images/dds238-484bcfb5a7fefce713c7694e40cbc52b.webp" width="1200" height="1200" class="img_ev3q"></p>
<p>You will need RS485-UART adapter module to connect the meter to ESP32 serial port.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-9">Usage<a href="#usage-9" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a></h3>
<p>This example assumes the RS485 adapter is connected to ESP32&#x27;s UART2 (IO17 and IO16)</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/bus/modbus.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/dev/dds238.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">modbus</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token plain">master</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">configureSerial</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">9600</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dev</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">useDds238</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the UI:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> startUi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Dds238 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@esp32m/ui&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">startUi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">plugins</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token function" style="color:rgb(130, 170, 255)">Dds238</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="/assets/images/dds238-62920b44530ad22fb5caf753e921fae0.png" width="568" height="482" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/esp32m/website/edit/master/website/docs/reference/devices.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/reference/components"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Components</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/reference/ui"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">User Interface</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#relay" class="table-of-contents__link toc-highlight">Relay</a><ul><li><a href="#usage" class="table-of-contents__link toc-highlight">Usage</a></li><li><a href="#api" class="table-of-contents__link toc-highlight">API</a></li></ul></li><li><a href="#h-bridge" class="table-of-contents__link toc-highlight">H-Bridge</a><ul><li><a href="#usage-1" class="table-of-contents__link toc-highlight">Usage</a></li><li><a href="#api-1" class="table-of-contents__link toc-highlight">API</a></li></ul></li><li><a href="#valve" class="table-of-contents__link toc-highlight">Valve</a><ul><li><a href="#2-control-pins--2-sense-pins" class="table-of-contents__link toc-highlight">2 control pins + 2 sense pins</a></li><li><a href="#3-control-pins--2-sense-pins" class="table-of-contents__link toc-highlight">3 control pins + 2 sense pins</a></li><li><a href="#usage-2" class="table-of-contents__link toc-highlight">Usage</a></li><li><a href="#api-2" class="table-of-contents__link toc-highlight">API</a></li></ul></li><li><a href="#dallas-temperature-sensor" class="table-of-contents__link toc-highlight">Dallas temperature sensor</a><ul><li><a href="#api-3" class="table-of-contents__link toc-highlight">API</a></li></ul></li><li><a href="#buzzer" class="table-of-contents__link toc-highlight">Buzzer</a><ul><li><a href="#usage-3" class="table-of-contents__link toc-highlight">Usage</a></li><li><a href="#api-4" class="table-of-contents__link toc-highlight">API</a></li></ul></li><li><a href="#bme280-temperaturehumiditypressure-i2c-sensor" class="table-of-contents__link toc-highlight">BME280 temperature/humidity/pressure I2C sensor</a><ul><li><a href="#usage-4" class="table-of-contents__link toc-highlight">Usage</a></li><li><a href="#api-5" class="table-of-contents__link toc-highlight">API</a></li></ul></li><li><a href="#fc-37-rain-sensor" class="table-of-contents__link toc-highlight">FC-37 rain sensor</a><ul><li><a href="#usage-5" class="table-of-contents__link toc-highlight">Usage</a></li><li><a href="#api-6" class="table-of-contents__link toc-highlight">API</a></li></ul></li><li><a href="#flow-meter" class="table-of-contents__link toc-highlight">Flow meter</a><ul><li><a href="#usage-6" class="table-of-contents__link toc-highlight">Usage</a></li><li><a href="#api-7" class="table-of-contents__link toc-highlight">API</a></li></ul></li><li><a href="#pressure-sensor" class="table-of-contents__link toc-highlight">Pressure sensor</a><ul><li><a href="#usage-7" class="table-of-contents__link toc-highlight">Usage</a></li><li><a href="#api-8" class="table-of-contents__link toc-highlight">API</a></li></ul></li><li><a href="#ina-series-voltagecurrent-sensor" class="table-of-contents__link toc-highlight">INA series voltage/current sensor</a><ul><li><a href="#usage-8" class="table-of-contents__link toc-highlight">Usage</a></li><li><a href="#api-9" class="table-of-contents__link toc-highlight">API</a></li></ul></li><li><a href="#dds238-electricity-meter" class="table-of-contents__link toc-highlight">DDS238 electricity meter</a><ul><li><a href="#usage-9" class="table-of-contents__link toc-highlight">Usage</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/reference/project-structure">Reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/esp32m/core" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://t.me/esp32mg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024</div></div></div></footer></div>
</body>
</html>