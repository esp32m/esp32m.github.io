<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="ESP32 Manager Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="ESP32 Manager Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4LC1CTFLW8"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-4LC1CTFLW8",{})</script><title data-react-helmet="true">Components | ESP32 Manager</title><meta data-react-helmet="true" property="og:url" content="https://esp32m.com/docs/reference/components"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Components | ESP32 Manager"><meta data-react-helmet="true" name="description" content="Logger"><meta data-react-helmet="true" property="og:description" content="Logger"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://esp32m.com/docs/reference/components"><link data-react-helmet="true" rel="alternate" href="https://esp32m.com/docs/reference/components" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://esp32m.com/docs/reference/components" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.9a8a25c0.css">
<link rel="preload" href="/assets/js/runtime~main.5d288c56.js" as="script">
<link rel="preload" href="/assets/js/main.101f0d2e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="ESP32 Manager logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="ESP32 Manager logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">ESP32 Manager</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/esp32m/core" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="ESP32 Manager logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="ESP32 Manager logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">ESP32 Manager</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/intro">Documentation</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/esp32m/core" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu menu--responsive thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/starting">Quick start</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorial/create-project">Create New Project</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorial/building-flashing">Build and Flash</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorial/mqtt">MQTT setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorial/ota">OTA updates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorial/remote-logging">Remote Logging</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorial/sensor-monitoring">Monitoring sensors</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/project-structure">Project structure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/esp32m-py">esp32m.py tool</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/api">API</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/reference/components">Components</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/devices">Devices</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="markdown"><header><h1 class="h1Heading_27L5">Components</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="logger"></a>Logger<a class="hash-link" href="#logger" title="Direct link to heading">#</a></h2><p>What&#x27;s wrong with ESP_IDF <a href="//docs.espressif.com/projects/esp-idf/en/latest/esp32/api-reference/system/log.html" target="_blank" rel="noopener noreferrer">Logging library</a>? Nothing at all. It is great if you don&#x27;t mind to have console terminal attached to UART0 when you debug your application. However, if you want to test new version of your app on a remotely installed MCU, without access to the serial port, an ability to redirect logs to a some server on your LAN, or at least a way to save the logs to flash memory for later examination, could be of tremendous help. This is where our logging library comes into play. It follows the de-facto standard architecture of multiple configurable loggers, connected to multiple configurable appenders. Our logger is able to intercept log messages from various ESP-IDF modules and redirect them to the designated appenders.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="appenders"></a>Appenders<a class="hash-link" href="#appenders" title="Direct link to heading">#</a></h3><p>The following appenders are currently implemented:</p><ul><li>console appender, simply sends all output to UART0, just like the ESP-IDF logger does.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/log/console.hpp&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">log</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">addAppender</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">log</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token class-name" style="color:rgb(255, 203, 107)">Console</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">instance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>UDP appender, sends log messages to <strong>rsyslog</strong> server or any other UDP endpoint, either in <strong>rsyslog</strong> format, or in plain text.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/log/udp.hpp&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">log</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">addBufferedAppender</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> log</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">Udp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>refer to <a href="/docs/tutorial/remote-logging">Remote logging tutiorial</a> for more information on setting up a <strong>rsyslog</strong> server. If you want to send messages in plain text:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">auto</span><span class="token plain"> udp_appender</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> log</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">Udp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;your.udp.server.name or IP&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> udp_port</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">udp_appender</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token function" style="color:rgb(130, 170, 255)">setMode</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">log</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">Udp</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">Format</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">Text</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">log</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">addBufferedAppender</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">udp_appender</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>MQTT appender, sends the messages to MQTT broker:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/log/mqtt.hpp&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">log</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">addBufferedAppender</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">log</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token class-name" style="color:rgb(255, 203, 107)">Mqtt</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">instance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>refer to <a href="/docs/tutorial/remote-logging">Remote logging tutiorial</a> for more information on setting up a <strong>MQTT</strong> server.</p><ul><li>VFS appender - saves log messages to a file.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/log/vfs.hpp&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">log</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">addBufferedAppender</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> log</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">Vfs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/spiffs/log-file.txt&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>UART appender - the same as <em>console appender</em>, but can output to UART2 or UART1.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/log/uard.hpp&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">log</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">addAppender</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> log</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">Uart</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You can add as many appenders as you need.</p><p><code>void addBufferedAppender()</code> accounts for appenders that may need some time to initialize, before they are able to accept messages (for example, connect to network server, mount filesystem, etc.). It checks if the appender is ready, and if not - saves the messages to a temporary buffer. Once the appender is fully initialized, the contents of the buffer is automatically forwarded to the appender, and the buffer is released.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="intercepting-output"></a>Intercepting output<a class="hash-link" href="#intercepting-output" title="Direct link to heading">#</a></h3><p>There are two methods to redirect messages to our logger:</p><ul><li><code>void log::hookEsp32Logger(bool install=true)</code> - uses <a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/api-reference/system/log.html#_CPPv419esp_log_set_vprintf14vprintf_like_t" target="_blank" rel="noopener noreferrer">esp_log_set_vprintf()</a> to redirect ESP-IDF log output.</li><li><code>void log::hookUartLogger(int bufsize = 128);</code> - intercepts all output to UART0 via ESP32 ROM function. This is useful if you want to redirect messages that don&#x27;t use ESP-IDF logging library.</li></ul><p>You can use either method, or both at the same time, depending on your needs. However, there are cases these methods cannot handle. For example, direct writes to ESP32 memory-mapped I/O registers cannot be intercepted and redirected. ESP-IDF panic handler and some other error handlers do that, unfortunately.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="optimising-performance"></a>Optimising performance<a class="hash-link" href="#optimising-performance" title="Direct link to heading">#</a></h3><p>If you have time-critical tasks that may suffer from additional delays introduced by network/vfs I/O, it is possible to decouple logging from the actual output.
<code>void log::useQueue(int size=1024)</code> adds a buffering layer, that allows the calling thread to proceed immediately, without blocking, and actual I/O will take place in another thread. The default size of the buffer is 1024 bytes, may be changed by passing the second parameter to the call.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="event-manager"></a>Event manager<a class="hash-link" href="#event-manager" title="Direct link to heading">#</a></h2><p>Event manager is at the heart of <strong>esp32m</strong>, it facilitates asynchronous communication between the tasks inside the <strong>esp32m</strong> application, as well as interaction with the outer world via the API.</p><p>Event manager implements publish-subscribe mechanism, passing events from publishers to the interested parties (subscribers).</p><p>Event manager is represented by a singleton instance of <code>EventManager</code> class that has only two methods:</p><ul><li><code>void publish(Event &amp;event)</code> - publishes the event;</li><li><code>const Subscription *subscribe(Subscription::Callback cb)</code> - adds calback to the list of event recipients. Un-subscribing is possible by deleting the returned <code>Subscription</code> instance.</li></ul><p><code>Event</code> is the base class for events, it defines the base property of all events - event type. The rest of the specific properties and methods should be defined in the descendant classes that represent specific events.</p><p>One example is a <code>Request</code> event used by the API, see <a href="/docs/reference/api">this</a> for more information.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="application-container"></a>Application container<a class="hash-link" href="#application-container" title="Direct link to heading">#</a></h2><p><code>esp32m</code> application is a collection of modules. Every module is a descendant of <code>AppObject</code> class and has access to the following features:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="event-handling"></a>Event handling<a class="hash-link" href="#event-handling" title="Direct link to heading">#</a></h3><p>Every module instance is by default subscribed to all the events, that are passed to <code>virtual bool AppObject::handleEvent(Event &amp;ev);</code> method. The method should return <code>false</code> if the <code>Event</code> was not handled, and <code>true</code> otherwise. The default implementation does nothing and returns <code>false</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="state-management"></a>State management<a class="hash-link" href="#state-management" title="Direct link to heading">#</a></h3><p>A module can take advantage of built-in state management workflow by overriding the following methods:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">setState</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> JsonVariantConst state</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> DynamicJsonDocument </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> DynamicJsonDocument </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token function" style="color:rgb(130, 170, 255)">getState</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> JsonVariantConst args</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>These state get/set requests may originate from the UI and/or the <a href="/docs/reference/api">API</a>. The state is communicated via JsonVariant container, allowing arbitrary JSON-formatted data to be passed to/from the module.</p><p>If the module allows its state to be changed by UI or API requests, it must override <code>setState()</code> method and change its internal state according to the <code>state</code> parameter. If the module wants to respond to the state change request with aditional information (for example, indicate invalid state change request, communicate warnings, etc.) it may create new instance of <code>DynamicJsonDocument</code>, populate it with the corresponding details and return via the <code>result</code> parameter. <code>esp32m</code> will automatically delete the <code>result</code> when it is no longer needed.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="configuration"></a>Configuration<a class="hash-link" href="#configuration" title="Direct link to heading">#</a></h3><p><code>esp32m</code> features global configuration store (/spiffs/config.json by default). The store is a JSON object where each item is named after the module and contains module-specific configuration details. On startup, <code>esp32m</code> reads configuration store and passes config details to the corresponding module. When a module knows its configuration has changed, it triggers <code>EventConfigChanged</code> event that instructs <code>esp32m</code> to request updated configuration and save it to the store.</p><p>A module can paricipate in this mechanism by overriding the foloowing methods:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">bool</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">setConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> JsonVariantConst cfg</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">DynamicJsonDocument</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> DynamicJsonDocument</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> JsonVariantConst args</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The methods are very similar to the <code>getState() / setState()</code> methods (see above).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="logging"></a>Logging<a class="hash-link" href="#logging" title="Direct link to heading">#</a></h3><p>Every <code>AppObject</code> implements <code>log::Loggable</code> interface providing access to the module-specific logger.
It is advised to use pre-defined <code>logX</code> macros inside module methods, where X is one of E, W, I, D or V (Error, Warning, Info, Debug, Verbose). For example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/logging.hpp&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MyModule</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">DoIt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">cannotDoIt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">logE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;could not do the job due to %s&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> errormsg</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">else</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">logI</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;the job will be done&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="sensor-monitoring"></a>Sensor monitoring<a class="hash-link" href="#sensor-monitoring" title="Direct link to heading">#</a></h2><p>A <code>Device</code> class is a descendant of <code>AppObject</code> that extends its functionality to poll device-specific sensors periodically and make sensor readings available over MQTT or by other means.
Extend <code>Device</code> class and override its <code>virtual void pollSensors();</code> method that will be called periodically (typically once per second). Inside that method, call <code>sensor()</code> methods with the name of the sensor and its current reading.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sensor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">sensor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">float</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sensor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">sensor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">float</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> JsonObjectConst props</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The second method allows to pass additional properties along with the reading, to further refine queries to the time series database.</p><p><code>pollSensors()</code> method is called from a single dedicated thread, therefore it is safe to access global resources from <code>pollSensors()</code> without additional synchronization (provided that these resources are not accessed by other threads, of course). This dedicated thread calls <code>pollSensors()</code> of every device sequentially. Therefore, it is recommended to avoid unnecessary delays in <code>pollSensors()</code>. If sgnificant time is required for a device to perform a reading, it is advised to move lengthy operations to separate threads.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="input--output"></a>Input / Output<a class="hash-link" href="#input--output" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gpio"></a>GPIO<a class="hash-link" href="#gpio" title="Direct link to heading">#</a></h3><p>ESP32 Manager introduces abstraction layer for I/O pins that serves 3 major puropses:</p><ul><li>synchronize access to pins to prevent multiple tasks from racing with each other when accessing a pin at the same time;</li><li>access various i/o extenders (such as CD74HC4067) seamlessly, via a unified interface;</li><li>provides information about pin&#x27;s features, state, mode, hardware capabilities and interfaces it supports (such as ADC, PWM, pulse counter, etc.) at runtime.</li></ul><p><code>io::IPin</code> class describes an abstract digital pin and its hardware features.
This example shows how to get an <code>io::IPin</code> instance for any ESP32 I/O port:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/io/pins.hpp&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/io/gpio.hpp&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">auto</span><span class="token plain"> pin32</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">gpio</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">GPIO_NUM_32</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This is how to obtain <code>io::IPin</code> instance for any pin of PCF8575 I2C extender:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/io/pins.hpp&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/io/pcf857x.hpp&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">auto</span><span class="token plain"> pcf </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> io</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">usePcf8575</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0x20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">auto</span><span class="token plain"> pcfPin1 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> pcf</span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token function" style="color:rgb(130, 170, 255)">pin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="i2c"></a>I2C<a class="hash-link" href="#i2c" title="Direct link to heading">#</a></h3><p>ESP32 Manager features <code>I2C</code> class with thread-safe methods to access I2C bus from multiple threads. <code>I2C</code> instance facilitates communication with a device at given I2C address. It provides synchronization features to access single device from multiple threads.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="1wire"></a>1Wire<a class="hash-link" href="#1wire" title="Direct link to heading">#</a></h3><p>One-Wire driver is based on David Antliff&#x27;s <a href="//github.com/DavidAntliff/esp32-owb" target="_blank" rel="noopener noreferrer">esp32-owb</a> component and uses <a href="//docs.espressif.com/projects/esp-idf/en/latest/esp32/api-reference/peripherals/rmt.html" target="_blank" rel="noopener noreferrer">RMT</a> for reliable operation. One-Wire protocol is used mainly by DS18B20 and similar temperature sensors.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="modbus"></a>Modbus<a class="hash-link" href="#modbus" title="Direct link to heading">#</a></h3><p>Modbus driver allows to communicate with slave MODBUS devices over RS-485 transceiver connected to serial port, usually UART2.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="network"></a>Network<a class="hash-link" href="#network" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="wifi"></a>Wifi<a class="hash-link" href="#wifi" title="Direct link to heading">#</a></h3><p>WiFi component peforms the following functions:</p><ul><li>manages connection lifecycle, finding available Access Points and making sure the connection is maintained at all times, reconnecting if necessary;</li><li>if no connection could be established, launches Access Point named after the application name, with Captive Portal to configure AP credentials manually;</li><li>synchronizes ESP32 time with NTP server (if Internet connection is available);</li><li>preserves configured APs to auto-connnect on the next boot;</li><li>provides information about Station and AP state to the UI and the API;</li><li>allows to scan for available Access Points from the UI or API.</li></ul><p>Using WiFi component is simple:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/net/wifi.hpp&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">net</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">wifi</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">useWiFi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>If you would like to provide SSID/password in your app:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">net</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">wifi</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">addAccessPoint</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;SSID&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;password&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>In the UI:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly typescript"><pre tabindex="0" class="prism-code language-typescript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> useWifi </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@esp32m/ui&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token method function property-access" style="color:rgb(130, 170, 255)">useWifi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="captive-portal"></a>Captive portal<a class="hash-link" href="#captive-portal" title="Direct link to heading">#</a></h3><p>Captive portal functionality is included in the core Wifi module and there are no extra steps needed to make it work. If no WiFi connection could be established, Wifi module will automatically switch ESP32 to AP+STA mode and will launch captive portal that should open the Web page allowing to connect to one of the available APs. Unfortunately, there is no well-defined standard for the Captive portal and some devices may not understand the request to open a web page upon connecting to ESP32 AP. In this case, simply open <a href="http://192.168.4.1" target="_blank" rel="noopener noreferrer">http://192.168.4.1</a> on your smartphone or tablet after connecting to the AP.</p><p>Additional steps are needed to include Captive portal in the UI:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly typescript"><pre tabindex="0" class="prism-code language-typescript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> useCaptivePortal </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@esp32m/ui&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">useCaptivePortal</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="mqtt"></a>Mqtt<a class="hash-link" href="#mqtt" title="Direct link to heading">#</a></h3><p>MQTT component manages connection to MQTT server, reconnects if necessary, provides API channel to control <code>esp32m</code> application via <a href="/docs/reference/api#mqtt">MQTT API</a> and forwards sensor readings to the time-series database.
<a href="/docs/tutorial/mqtt">This tutorial</a> provides more information.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="over-the-air-updates"></a><a href="/docs/tutorial/ota">Over-the-air updates</a><a class="hash-link" href="#over-the-air-updates" title="Direct link to heading">#</a></h3><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="debugging"></a>Debugging<a class="hash-link" href="#debugging" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gpio-1"></a>GPIO<a class="hash-link" href="#gpio-1" title="Direct link to heading">#</a></h3><p>GPIO debugger allows to control the mode of ESP32 I/O pins and change/monitor their state. GPIO debugger supports most of the ESP32 hardware features:</p><ul><li>digital I/O with configurable pull-ups/pull-downs;</li><li>Analog-to-Digital Converter (ADC) with configurable attenuation;</li><li>Digital-to-Analog Converter (DAC) with configurable output voltage;</li><li>Pulse Counter with configurable noise filter, triggering edges and increment/decrement modes;</li><li>PWM generator (LEDC) with configurable duty cycle and frequency;</li><li>Sigma/Delta generator with configurable prescale and duty;</li><li>Cosine Wave generator with configurable amplitude, phase shift and frequency;</li><li>Touch Sensor with configurable threshold and charge/discharge speed.</li></ul><p>Usage:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/debug/gpio.hpp&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">debug</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">useGPIO</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>In the UI:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly typescript"><pre tabindex="0" class="prism-code language-typescript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> useGpio </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@esp32m/ui&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token method function property-access" style="color:rgb(130, 170, 255)">useGpio</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><img src="/assets/images/gpio-e777231ec1168c0ef3523cb81b495b5e.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="tasks"></a>Tasks<a class="hash-link" href="#tasks" title="Direct link to heading">#</a></h3><p>This component is a read-only task manager that shows running tasks and their properties:</p><ul><li>task ID;</li><li>task name;</li><li>CPU usage;</li><li>stack high watermark.</li></ul><p>CPU usage may help determine tasks abusing the CPU. Stack high watermark shows the amount of stack space that has never been used by the task. This value may be used to optimise task stack size passed to <a href="//docs.espressif.com/projects/esp-idf/en/latest/esp32/api-reference/system/freertos.html#_CPPv411xTaskCreate14TaskFunction_tPCKcK8uint32_tPCv11UBaseType_tPC12TaskHandle_t" target="_blank" rel="noopener noreferrer">xTaskCreate</a>. If the value is close to 0, it means that stack size for this task should be increased, otherwise the task risks running out of stack space. If the value is too big, it makes sense to decrease stack size to prevent memory wasting.</p><p>Usage:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/debug/tasks.hpp&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">debug</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">useTasks</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>In the UI:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly typescript"><pre tabindex="0" class="prism-code language-typescript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> useTasks </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@esp32m/ui&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token method function property-access" style="color:rgb(130, 170, 255)">useTasks</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><img src="/assets/images/tasks-12e06a66e227fcc51d26ec62c1f486d4.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="bus-scanners"></a>Bus scanners<a class="hash-link" href="#bus-scanners" title="Direct link to heading">#</a></h3><p>Bus scanners are useful if you don&#x27;t know the address of the device(s) connected to a bus. These components allow to detect addresses of all connected devices in the UI.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="1-wire-bus-scanner"></a>1-Wire bus scanner<a class="hash-link" href="#1-wire-bus-scanner" title="Direct link to heading">#</a></h4><p>Scans One-Wire bus for all connected devices and shows their addresses.</p><p>Usage:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/bus/scanner/owb.hpp&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">bus</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">scanner</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">useOwb</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>In the UI:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly typescript"><pre tabindex="0" class="prism-code language-typescript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> useOwbScanner </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@esp32m/ui&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token method function property-access" style="color:rgb(130, 170, 255)">useOwbScanner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><img src="/assets/images/owb-scanner-0d54c4e110e3744d8ddc90899cc58775.png"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="i2c-bus-scanner"></a>I2C bus scanner<a class="hash-link" href="#i2c-bus-scanner" title="Direct link to heading">#</a></h4><p>Scans I2C bus for all connected devices and shows their addresses.</p><p>Usage:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/bus/scanner/i2c.hpp&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">bus</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">scanner</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">useI2C</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>In the UI:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly typescript"><pre tabindex="0" class="prism-code language-typescript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> useI2CScanner </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@esp32m/ui&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token method function property-access" style="color:rgb(130, 170, 255)">useI2CScanner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><img src="data:image/png;base64,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"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="modbus-scanner"></a>Modbus scanner<a class="hash-link" href="#modbus-scanner" title="Direct link to heading">#</a></h4><p>Scans RS485 bus for all connected MODBUS devices and shows their addresses.
This component provides some additional tools to communicate via MODBUS device.</p><p>Usage:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><pre tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;esp32m/bus/scanner/modbus.hpp&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">bus</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token plain">scanner</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">useModbus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>In the UI:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly typescript"><pre tabindex="0" class="prism-code language-typescript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> useModbusScanner </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@esp32m/ui&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token method function property-access" style="color:rgb(130, 170, 255)">useModbusScanner</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><img src="/assets/images/modbus-scanner-6e0da746cbecab1cb503c59c11ff903e.png"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/esp32m/website/edit/master/website/docs/reference/components.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/reference/api"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« API</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/reference/devices"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Devices Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#logger" class="table-of-contents__link">Logger</a><ul><li><a href="#appenders" class="table-of-contents__link">Appenders</a></li><li><a href="#intercepting-output" class="table-of-contents__link">Intercepting output</a></li><li><a href="#optimising-performance" class="table-of-contents__link">Optimising performance</a></li></ul></li><li><a href="#event-manager" class="table-of-contents__link">Event manager</a></li><li><a href="#application-container" class="table-of-contents__link">Application container</a><ul><li><a href="#event-handling" class="table-of-contents__link">Event handling</a></li><li><a href="#state-management" class="table-of-contents__link">State management</a></li><li><a href="#configuration" class="table-of-contents__link">Configuration</a></li><li><a href="#logging" class="table-of-contents__link">Logging</a></li></ul></li><li><a href="#sensor-monitoring" class="table-of-contents__link">Sensor monitoring</a></li><li><a href="#input--output" class="table-of-contents__link">Input / Output</a><ul><li><a href="#gpio" class="table-of-contents__link">GPIO</a></li><li><a href="#i2c" class="table-of-contents__link">I2C</a></li><li><a href="#1wire" class="table-of-contents__link">1Wire</a></li><li><a href="#modbus" class="table-of-contents__link">Modbus</a></li></ul></li><li><a href="#network" class="table-of-contents__link">Network</a><ul><li><a href="#wifi" class="table-of-contents__link">Wifi</a></li><li><a href="#captive-portal" class="table-of-contents__link">Captive portal</a></li><li><a href="#mqtt" class="table-of-contents__link">Mqtt</a></li><li><a href="#over-the-air-updates" class="table-of-contents__link">Over-the-air updates</a></li></ul></li><li><a href="#debugging" class="table-of-contents__link">Debugging</a><ul><li><a href="#gpio-1" class="table-of-contents__link">GPIO</a></li><li><a href="#tasks" class="table-of-contents__link">Tasks</a></li><li><a href="#bus-scanners" class="table-of-contents__link">Bus scanners</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/reference/project-structure">Reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/esp32m/core" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://t.me/esp32m" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021</div></div></div></footer></div>
<script src="/assets/js/runtime~main.5d288c56.js"></script>
<script src="/assets/js/main.101f0d2e.js"></script>
</body>
</html>