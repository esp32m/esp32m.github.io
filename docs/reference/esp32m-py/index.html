<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="ESP32 Manager Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="ESP32 Manager Blog Atom Feed"><title data-react-helmet="true">esp32m.py tool | ESP32 Manager</title><meta data-react-helmet="true" property="og:url" content="https://esp32m.com/docs/reference/esp32m-py"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="esp32m.py tool | ESP32 Manager"><meta data-react-helmet="true" name="description" content="The esp32m.py file found in the esp32m/core folder is a Python script that simplifies routine project management tasks, such as building, versioning, flashing, uploading to server for OTA updates, and more. The most common use case for esp32m.py is to run it in your project&#x27;s folder like this:"><meta data-react-helmet="true" property="og:description" content="The esp32m.py file found in the esp32m/core folder is a Python script that simplifies routine project management tasks, such as building, versioning, flashing, uploading to server for OTA updates, and more. The most common use case for esp32m.py is to run it in your project&#x27;s folder like this:"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://esp32m.com/docs/reference/esp32m-py"><link data-react-helmet="true" rel="alternate" href="https://esp32m.com/docs/reference/esp32m-py" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://esp32m.com/docs/reference/esp32m-py" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.9a8a25c0.css">
<link rel="preload" href="/assets/js/runtime~main.a909bd9b.js" as="script">
<link rel="preload" href="/assets/js/main.e8df2c76.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="ESP32 Manager logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="ESP32 Manager logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">ESP32 Manager</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/esp32m/core" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="ESP32 Manager logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="ESP32 Manager logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">ESP32 Manager</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/intro">Documentation</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/esp32m/core" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu menu--responsive thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/starting">Quick start</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorial/create-project">Create New Project</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorial/building-flashing">Build and Flash</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorial/mqtt">MQTT setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorial/ota">OTA updates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorial/remote-logging">Remote Logging</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorial/sensor-monitoring">Monitoring sensors</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/project-structure">Project structure</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/reference/esp32m-py">esp32m.py tool</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/api">API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/components">Components</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/devices">Devices</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="markdown"><header><h1 class="h1Heading_27L5">esp32m.py tool</h1></header><p>The <code>esp32m.py</code> file found in the <a href="//github.com/esp32m/core" target="_blank" rel="noopener noreferrer">esp32m/core</a> folder is a Python script that simplifies routine project management tasks, such as building, versioning, flashing, uploading to server for OTA updates, and more. The most common use case for <code>esp32m.py</code> is to run it in your project&#x27;s folder like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ python path/to/esp32m.py build flash monitor</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This will do the following:</p><ul><li>if your project has <code>web-ui</code> folder, it will build the UI and generate header/source files to be compiled into the application;</li><li>bump build number in the project&#x27;s <code>version.txt</code> file (for example, 1.0.5 becomes 1.0.6);</li><li>build the project;</li><li>copy the application binary to your Web server&#x27;s download directory (if you need to use OTA);</li><li>flash the application over the serial link;</li><li>start the monitor on the serial port to display debug messages from ESP32.</li></ul><p>The tool makes use of external programs, such as <code>yarn</code>, <code>idf.py</code>, <code>git</code>, <code>clang-format</code>, so it needs to know their locations. You can either make sure they are listed in your system&#x27;s <code>PATH</code> environment variable, or specify the path manually:</p><ul><li>option 1 - via the <code>esp32m.json</code> config file;</li><li>option 2 - via the command line, using the <code>--path</code> switch, see below.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="esp32mjson"></a>esp32m.json<a class="hash-link" href="#esp32mjson" title="Direct link to heading">#</a></h2><p><code>esp32m.json</code> is an optional config file located in your project&#x27;s root directory, it contains the following options:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;path&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;git&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/git&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;clang-format&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/clang-format&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;idf&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/idf.py&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;idf-tools&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/.espressif&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;firmware-target&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/path/to/compiled/firmware&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li><strong>idf-tools</strong> is a path to <code>.espressif</code> folder that is created by the ESP-IDF during installation. If you followed <a href="//docs.espressif.com/projects/esp-idf/en/latest/esp32/get-started/index.html#installation-step-by-step" target="_blank" rel="noopener noreferrer">ESP-IDF installation instructions</a>, it will be auto-detected, but if you changed the default path during the installation, or decided not to export ESP-IDF environment variables, you will need to speciry it manually.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="commands"></a>Commands<a class="hash-link" href="#commands" title="Direct link to heading">#</a></h2><p><code>esp32m.py</code> commands reflect <code>idf.py</code> commands with some additions and extended functionality:</p><ul><li><strong>init</strong> - create new project from <code>esp32m</code> template, details are <a href="/docs/tutorial/create-project">here</a>;</li><li><strong>format</strong> - use <code>clang-format</code> to format source code;</li><li><strong>build</strong> - build UI and main project;</li><li><strong>flash</strong> - burn the application over the serial link;</li><li><strong>monitor</strong> - start serial monitor;</li><li>other commands as explained <a href="//docs.espressif.com/projects/esp-idf/en/latest/esp32/api-guides/build-system.html#using-the-build-system" target="_blank" rel="noopener noreferrer">here</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="command-line-options"></a>Command line options<a class="hash-link" href="#command-line-options" title="Direct link to heading">#</a></h2><ul><li><strong>--path component path</strong> allows to specify paths using command line, or override those specified in the <code>esp32m.json</code>. Example:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ python path/to/esp32m.py --path firmware-target /path/to/compiled/firmware build</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li><strong>--project path</strong> allows to specify path to the project if <code>esp32m.py</code> is started not in the project root folder.</li><li><strong>--ui=skip</strong> allows to skip UI building and move on to the main build process. May be used to speed up build process if you didn&#x27;t make any changes in the UI and just want to build the C source.</li><li><strong>--port</strong> or <strong>-p</strong> - specify serial port for flashing and monitoring.</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/esp32m/website/edit/master/website/docs/reference/esp32m-py.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/reference/project-structure"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Project structure</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/reference/api"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">API Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#esp32mjson" class="table-of-contents__link">esp32m.json</a></li><li><a href="#commands" class="table-of-contents__link">Commands</a></li><li><a href="#command-line-options" class="table-of-contents__link">Command line options</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/reference/project-structure">Reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/esp32m/core" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHib<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://t.me/esp32m" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021</div></div></div></footer></div>
<script src="/assets/js/runtime~main.a909bd9b.js"></script>
<script src="/assets/js/main.e8df2c76.js"></script>
</body>
</html>